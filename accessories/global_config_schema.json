{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "api_key": {
      "title":"API Key",
      "description":"由OpenAI提供给您的ApiKey，没有的话请到https://platform.openai.com/account/api-keys申请。",
      "type": "string"
    }, 
    "mode": {
      "title":"兔兔扮演模式",
      "description":"选择要兔兔扮演模式",
      "type": "string",
      "enum": ["经典模式", "角色扮演"]
    },
    "normal_mode_config": {
      "title":"经典模式",
      "type": "object",
      "properties": {
        "predef_context": {
          "title":"预定义上下文",
          "description":":你可以在其中添加多个预置的上下文，每次发起一个新的对话时，会先发送这些先导词再发送用户的问题。可以通过这些句子给兔兔设置一个角色扮演场景。",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "stop_words": {
          "title":"强制打断词",
          "description":"您可以在这里设置一系列字符串，只要系统检测到兔兔的回复里包含任意一个给定的字符串，就会转而回复：“很抱歉博士，但是我不能回答您的这个问题。是否可以请博士换一个问题呢？”",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "amiya_thinking": {
          "title":"兔兔思考中",
          "description":"是否在收到消息的时候显示兔兔思考中",
          "type": "boolean"
        }
      }
    },
    "deep_cosplay_mode_config": {
      "type": "object",
      "title":"角色扮演",
      "properties": {
        "topic_timeout": {
          "title":"回归静默时间（秒）",
          "description":"当没人和兔兔说话时，要多久兔兔才会回到空闲状态。",
          "type": "integer"
        },
        "old_message_discard_time": {
          "title":"遗忘计时器（秒）",
          "description":"设置多长时间之前的消息会被遗忘。",
          "type": "integer"
        },
        "conversation_probability": {
          "title":"对话开始几率",
          "description":"当检测到对话时，兔兔加入对话的几率，范围0.0到1.0",
          "type": "number"
        },
        "conversation_length": {
          "title":"对话长度",
          "description":"当没有被遗忘的消息达到多少条时，尝试判断并决定加入对话，越短调用API的频率越高。",
          "type": "integer"
        },
        "topic_reply_probability": {
          "title":"对话参与几率",
          "description":"在对话中，兔兔回复对话参与者内容的几率，范围0.0到1.0",
          "type": "number"
        },
        "interest_initial": {
          "title":"初始兴趣",
          "description":"兔兔每次开启对话时都会获得一个初始兴趣，兔兔的各种行为都会消耗不同量的兴趣，兴趣耗尽兔兔就会回到沉默，可以用来控制兔兔让他不要一直接茬。",
          "type": "number"
        },
        "no_reply_timeout": {
          "title":"暖场计时器（秒）",
          "description":"当群内有多长时间没人说话时，兔兔会接一句话。",
          "type": "integer"
        },
        "reply_probability": {
          "title":"暖场几率",
          "description":"兔兔触发暖场的几率，范围0.0到1.0",
          "type": "number"
        },
        "max_retries": {
          "title":"重试次数",
          "description":"ChatGPT返回的格式不符合要求时的最大尝试次数，到达次数还不行则会返回“抱歉博士，阿米娅有点不明白。”",
          "type": "integer"
        },
        "output_mental": {
          "title":"输出情绪",
          "description":"用括号输出兔兔的情绪",
          "type": "boolean"
        },
        "output_activity": {
          "title":"输出行为",
          "description":"用括号输出兔兔的行为",
          "type": "boolean"
        }
      }
    },
    "override_other_plugin": {
      "title":"覆盖其他插件",
      "description":"开启后将覆盖特定的几个插件的关键词从而保证ChatGPT顺利触发。",
      "type": "boolean"
    },
    "base_url": {
      "title":"反向代理Url",
      "description":"可以填写一个Url作为API的基础路径。该url应该以http开头，结尾不包含斜杠，使用时将会拼接为{base_url}/completion",
      "type": "string"
    },
    "proxy": {
      "title":"http代理",
      "description":"可选的一个http或https代理，socks代理不支持",
      "type": "string"
    },
    "model": {
      "title":"GPT模型",
      "description":"选择要使用的gpt模型",
      "type": "string",
      "enum": ["gpt-3.5-turbo", "gpt-4"]
    },
    "show_log": {
      "title":"调试日志",
      "description":"开启后将写入用于调试的大量日志。",
      "type": "boolean"
    }
  },
  "required": [
    "api_key",
    "model"
  ]
}
