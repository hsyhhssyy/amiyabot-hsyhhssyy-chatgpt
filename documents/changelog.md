# 版本变更

## 4.2.1

让Assistant可以读图

## 4.2.0

正式加入Assistant

## 4.1.3

修复了经典模式的一些问题，并为官方Bot适配。

## 4.1.2

修复了加载默认配置文件时的字符集问题。

## 4.1.1

修复了经典模式和文心一言不兼容的问题

## 4.1.0

**支持AI视觉**，加入一个新的配置项，如果你使用ChatGPT，打开之后，选择合适的模型，可以让兔兔理解图片的内容，效果如下图所示：
![Alt text](https://raw.githubusercontent.com/hsyhhssyy/amiyabot-hsyhhssyy-chatgpt/master/images/image-1.png)

该AI视觉功能，对所有模式都有效，你可以在经典模式，ChatGPT请问等所有场景下使用。
该功能需要升级官方插件`大语言模型调用库`到1.2版本及以上。

## 4.0.0

**通过公用库集成百度文心一言（千帆大模型）**

从4.0版本开始，本插件不再自带ChatGPT和相关配置，**升级前请备份你的ApiKey等配置内容**，ChatGPT的调用，改为通过新的官方插件共用库：`大语言模型调用库`实现。
安装升级本插件时，兔兔会自动查找并安装该公用库，请您移步到该插件，查看该插件的说明配置ChatGPT。

因为使用了“大语言模型调用库”，现在本插件可以支持使用文心一言了，这样大家就可以不用科学上网就直接开始兔兔聊天。

**更新后，所有频道配置和全局配置的模型设置都被重置，您需要先去配置“大语言模型调用库”，然后回到本插件的配置项中，重新选择每个频道和全局使用的模型，现在，模型选项将会被拆分为两个，经济型模型和高性能模型，具体说明请参见下面的通用配置章节。**

对于有Prompt开发兴趣的朋友，本插件现在提供了一个Prompt工作台，可供用户调整和编辑自己的Prompt。请查看下面的【Prompt工作台】章节了解详情。

## 3.4.6

为ask_amiya函数加入model参数，让其他插件调用的时候可以复写model，适配新版兔兔

## 3.4.5

修复了3.5API下错误的输出QQ昵称的问题(因为3.5太蠢,因此不带入QQ昵称防止AI弄错)

## 3.4.4

修复了经典模式下Quota不生效的问题

## 3.4.3

本版本以及前面两个版本，修复了报告"No such file or directory"错误的问题。修复了遇到网络问题时会报错"expected string or byte-like object"而不是返回可读信息的问题

## 3.4.0


**娱乐小功能**
新的功能还在开发中，一时半会儿没有办法做大更新，但是有bug要修，因此做了小更新，新增了一个典孝急模式供大家娱乐，这个模式只能在频道配置级别选择。
选中这个模式后，兔兔会在有人连续发送2条以上消息时，根据消息内容，回复典孝急乐蚌批赢麻中的一个。
因为这个任务不需要什么智商，所以默认固定调用3.5API。

**新增一些配置**
**扩展了插件屏蔽列表，具体请看'拦截其他插件'章节**

修复了角色扮演模式会错误调用GPT-4 API的bug

## 3.3.1

修复了CQHttp的Quote ID的问题

## 3.3.0

新增了一个总开关和频道独立开关，关闭后不再响应消息。

新增了一个黑名单列表（频道级别配置中），输入用户QQ号后，可以忽略该用户的消息。
可以将其他机器人的QQ号填入其中防止机器人互相聊天。

扩展了插件屏蔽列表。对角色扮演模式的最终发布，下一个版本将加入一个新模式

## 3.2.0

重构了角色扮演，请多多尝试角色扮演！

## 3.1.0

增加了一些新的拦截其他插件的条件，精简了配置，并且让兔兔不那么话痨

## 3.0.7

现在兔兔在冷场接话时，会考虑最近的多条消息而不是只看那一条

## 3.0.6

解决了兔兔只有情绪和行为没有话语时，输出None的问题

## 3.0.5

解决了一个ChatGPT插件持续在日志输出错误信息的问题，没有功能上的影响

## 3.0.4

暂时让ChatGPT的消息处理器忽略纯数字的消息，来让他不会影响其他插件的“回复序号触发XX功能”。但是目前还存在其他隐患，需要我或者兔妈想一个办法来解决

## 3.0.3

修复了私聊时触发角色扮演报错的问题，现在私聊只能使用经典模式了，但是也不需要再回复消息，直接说即可对话

## 3.0.2

修复了有时候兔兔会回复代码的bug，并且让重试次数和是否输出Activity可以调节

## 3.0.1

修复了某些数据库引擎可能会出现的NOT NULL写入错误

## 3.0.0

大幅重构插件配置和功能

## 2.6.0

修复了上一个版本的一个严重bug

## 2.5.0

现在可以覆盖其他插件的干员查询了

## 2.4.0

加入base_url参数来支持反向代理

## 2.3.0

加入Ask_Amiya函数给其他插件调用

## 2.2.0

加入stop_words参数并增加对Model的选择

## 2.1.0

加入Proxy参数

## 2.0.0

现在可以自行配置前置词了，因此需要重新修改配置文件，版本号也正式提高到2.0表明这一变化

## 1.6.0

强行过滤兔兔的回答避免他自称为人工智能助手，现在兔

兔的角色扮演能力已经高达90%啦，不愧是罗德岛的CEO

## 1.5.0

适配最新的ChatGPT API

## 1.4.0

新增剔除前导关键词"兔兔chat"和"兔兔CHAT"

## 1.3.0

修复了新版Core下无法打开的问题(感谢 @wutongshufqw)

## 1.2.0

修复了一处会导致context多发内容的bug，并清理了一些日志

## 1.1.0

加入连续对话功能，剔除前导关键词

## 1.0.0

兔妈的版本